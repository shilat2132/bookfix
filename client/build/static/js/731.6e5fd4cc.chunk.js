"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[731],{9731:(t,e,s)=>{s.r(e),s.d(e,{itemLoader:()=>u,itemsLoader:()=>r,protectRoutesLoader:()=>o});var a=s(8278);function o(t){let{request:e,params:s}=t;const o=function(t){let{request:e}=t;const s=new URL(e.url).searchParams.get("password");return s&&"21321247a"===s?200:401}({request:e});if(200!==o){const t=s.collection;return"books"!==t&&"stories"!==t?(0,a.uX)("/books"):(0,a.uX)("/".concat(t))}return null}async function n(t){let{params:e,request:s}=t;const o=e.collection;if("books"!==o&&"stories"!==o)return(0,a.uX)("/books");let n="/api/".concat(o);const r=new URL(s.url).searchParams;if(r.size>0){n+="?";let t=0;for(const e of r.keys())t>0&&(n+="&"),n+="".concat(e,"=").concat(r.get(e)),t++}const c=await fetch(n),u=await c.json();if(!c.ok)throw(0,a.AV)({message:u.message},{status:c.status});return u.docs}function r(t){let{params:e,request:s}=t;return(0,a.PQ)({itemsData:n({params:e,request:s})})}async function c(t){let{params:e}=t;const s=await fetch("/api/".concat(e.collection,"/").concat(e.id)),o=await s.json();if(!s.ok)throw(0,a.AV)({message:o.message},{status:s.status});return o}function u(t){let{params:e}=t;return(0,a.PQ)({itemData:c({params:e})})}}}]);
//# sourceMappingURL=731.6e5fd4cc.chunk.js.map