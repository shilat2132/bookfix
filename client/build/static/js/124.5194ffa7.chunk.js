"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[124],{2441:(e,t,s)=>{s.d(t,{HW:()=>d,oU:()=>h});var o=s(1087),a=s(3517),c=s(3855),r=s(5070);const n={title:"comments_title__Dg9zm",subtitle:"comments_subtitle__kIYkT",cardBody:"comments_cardBody__b1Qvg",row:"comments_row__by9fR",cardText:"comments_cardText__W7dGZ",commentCard:"comments_commentCard__87XkG",commentsSection:"comments_commentsSection__s3I5-",titles:"comments_titles__RBt+C"};var l=s(5316),i=s(2791),m=s(184);const d=e=>{let{comments:t,from:s,secret:a}=e;const c=(0,o.wh)();if(!t||0===t.length)return(0,m.jsx)("p",{style:{marginTop:"unset"},className:"generalMsg",children:"\u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05e0\u05d5\u05e1\u05e4\u05d5 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"});const l="admin"===s;return(0,m.jsxs)("div",{className:"".concat(n.row," text-center"),children:[c.data&&c.data.error&&(0,m.jsxs)("p",{className:"errorMessage",children:[c.data.error," "]}),c.data&&c.data.success&&(0,m.jsxs)("p",{className:"generalMsg",children:[c.data.success," "]}),(0,m.jsx)("h4",{style:{textAlign:"right"},children:"\u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"}),(0,m.jsx)("div",{className:"row ",children:t.map((e=>(0,m.jsx)(r.Z,{className:"col-xl-4 col-lg-5 col-12 col-sm-5 ".concat(n.commentCard),children:(0,m.jsxs)(r.Z.Body,{className:n.cardBody,children:[(0,m.jsxs)("div",{className:n.titles,children:[(0,m.jsx)(r.Z.Title,{className:n.title,children:e.name}),l&&(0,m.jsx)(r.Z.Subtitle,{className:"".concat(n.subtitle," mb-2 text-muted"),children:e.story.title})]}),(0,m.jsxs)(r.Z.Text,{className:n.cardText,children:[e.text,l&&e.email&&(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsx)("br",{})," ",(0,m.jsx)("span",{children:e.email}),"  "]})]}),l&&(0,m.jsx)("button",{onClick:t=>{return s=e._id,void c.submit({id:s,secret:a},{method:"DELETE"});var s},className:"button",children:"\u05de\u05d7\u05d9\u05e7\u05ea \u05ea\u05d2\u05d5\u05d1\u05d4"})]})},e._id)))})]})};function x(){const e=(0,o.wh)();return(0,m.jsxs)("form",{onSubmit:t=>function(t){t.preventDefault();const s=new FormData(t.target),o={};s.forEach(((e,t)=>{o[t]=e})),e.submit(o,{method:"POST"})}(t),children:[(0,m.jsxs)(c.Z.Group,{className:"mb-3 ".concat(a.Z.formGroup),children:[(0,m.jsx)(c.Z.Label,{children:"\u05e9\u05dd"}),(0,m.jsx)(c.Z.Control,{name:"name",type:"text",required:!0})]}),(0,m.jsxs)(c.Z.Group,{className:"mb-3 ".concat(a.Z.formGroup),children:[(0,m.jsx)(c.Z.Label,{children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,m.jsx)(c.Z.Control,{name:"email",type:"text"})]}),(0,m.jsxs)(c.Z.Group,{className:"mb-3 ".concat(a.Z.formGroup),children:[(0,m.jsx)(c.Z.Label,{children:"\u05ea\u05d2\u05d5\u05d1\u05d4"}),(0,m.jsx)(c.Z.Control,{name:"text",as:"textarea",required:!0})]}),e.data&&e.data.success&&(0,m.jsx)("p",{className:"successMsg",children:e.data.success}),e.data&&e.data.error&&(0,m.jsx)("p",{className:"formErrorMessage",children:e.data.error}),(0,m.jsx)("button",{className:a.Z.button,children:"\u05d4\u05d5\u05e1\u05e4\u05d4"})]})}function h(e){let{comments:t}=e;const[s,o]=(0,i.useState)(!1);return(0,m.jsxs)("div",{className:n.commentsSection,children:[(0,m.jsx)("button",{className:"button",onClick:()=>o(!0),children:"\u05db\u05ea\u05d1\u05d5 \u05ea\u05d2\u05d5\u05d1\u05d4"}),(0,m.jsxs)(l.Z,{show:s,onHide:()=>o(!1),children:[(0,m.jsx)(l.Z.Header,{closeButton:!0,children:(0,m.jsx)(l.Z.Title,{children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d2\u05d5\u05d1\u05d4"})}),(0,m.jsxs)(l.Z.Body,{children:[(0,m.jsx)(x,{})," "]})]}),(0,m.jsx)(d,{comments:t,from:"user"})]})}},8591:(e,t,s)=>{s.d(t,{h:()=>h});var o=s(5070);const a="itemGrid_title__rMLJP",c="itemGrid_cover__T++WI",r="itemGrid_card__UVJCD",n="itemGrid_text__l4x0Y",l="itemGrid_author__eZB3l";var i=s(5068),m=s(7689),d=s(1087),x=s(184);const h=e=>{let{item:t,route:s}=e;const h=(0,m.UO)();return(0,x.jsx)(d.OL,{style:{textDecoration:"none"},className:s?" ".concat(i.Z.moreBooksGrid):"",to:"/".concat(h.collection,"/").concat(t._id),children:(0,x.jsxs)(o.Z,{className:"".concat(r),children:[(0,x.jsx)(o.Z.Img,{className:"".concat(s?i.Z.moreBooksCovers:c),variant:"top",src:t.cover}),(0,x.jsxs)(o.Z.Body,{children:[(0,x.jsx)(o.Z.Title,{className:"".concat(a," ").concat(i.Z.moreTitle),children:t.title}),(0,x.jsx)(o.Z.Subtitle,{className:"".concat(l," ").concat(i.Z.moreAuthor," mb-2 text-muted"),children:t.author}),(0,x.jsxs)(o.Z.Text,{className:"".concat(n),children:[t.price,"\u20aa"]})]})]})})}},2124:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var o=s(2791),a=s(7689),c=s(4849),r=s(5068),n=s(5070),l=s(1694),i=s.n(l),m=s(162);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Hz,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.cs;const o=[];return Object.entries(e).forEach((e=>{let[a,c]=e;null!=c&&("object"===typeof c?t.forEach((e=>{const t=c[e];if(null!=t){const c=e!==s?"-".concat(e):"";o.push("".concat(a).concat(c,"-").concat(t))}})):o.push("".concat(a,"-").concat(c)))})),o}var x=s(184);const h=o.forwardRef(((e,t)=>{let{as:s="div",bsPrefix:o,className:a,direction:c,gap:r,...n}=e;o=(0,m.vE)(o,"horizontal"===c?"hstack":"vstack");const l=(0,m.pi)(),h=(0,m.zG)();return(0,x.jsx)(s,{...n,ref:t,className:i()(a,o,...d({gap:r},l,h))})}));h.displayName="Stack";const u=h;var _=s(8591);const j=e=>{let{item:t}=e;const{doc:s,extraData:o}=t,a=o&&o.length>0;return(0,x.jsxs)("div",{className:"container",style:a?{}:{marginBottom:"9%"},children:[(0,x.jsxs)(n.Z,{className:"".concat(r.Z.card),children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(n.Z.Img,{className:"".concat(r.Z.cover),variant:"top",src:s.cover,alt:s.title}),(0,x.jsxs)(n.Z.Body,{children:[(0,x.jsx)(n.Z.Title,{className:"".concat(r.Z.title),children:s.title}),(0,x.jsxs)(n.Z.Subtitle,{className:"".concat(r.Z.author," mb-2 text-muted"),children:[s.author,(0,x.jsx)("br",{})," ",s.price,"\u20aa",s.payBtn&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("div",{dangerouslySetInnerHTML:function(e){const t='src="https://i.ibb.co/4P5LKnk/ei-1704014855402-removebg-preview.png"',s=t+' class= "addToCartImg"';return{__html:e.replace(t,s)}}(s.payBtn)})," "]})]})]})]}),(0,x.jsxs)(n.Z.Text,{className:"".concat(r.Z.text),children:[(0,x.jsx)("b",{children:"\u05ea\u05e7\u05e6\u05d9\u05e8"}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:r.Z.summary,children:s.summary})]})]}),a&&(0,x.jsxs)("div",{className:"container ".concat(r.Z.moreBooksContainer),children:[(0,x.jsxs)("h6",{children:["\u05e2\u05d5\u05d3 \u05e1\u05e4\u05e8\u05d9\u05dd \u05de\u05d0\u05ea ",s.author]}),(0,x.jsx)(u,{direction:"horizontal",gap:3,className:"".concat(r.Z.moreBooks),children:o.map((e=>(0,x.jsx)(_.h,{item:e,route:"/books/".concat(e._id)},e._id)))})]})]})};var b=s(3091);const Z=e=>{let t,{summary:s,aboutStory:a,prologe:c}=e;t=(0,o.useMemo)((()=>{if(c)return c.substr(0,390)}),[]);const[n,l]=(0,o.useState)({passage:s,additional:null});function i(e){const o=e.target.id;l("summary"===o?{passage:s,additional:null}:"aboutStory"===o?{passage:a,additional:null}:{passage:t,additional:"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"})}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(b.Z,{variant:"tabs",className:"navTabs ".concat(r.Z.navTabs),defaultActiveKey:"summary",children:[(0,x.jsx)(b.Z.Item,{children:(0,x.jsx)(b.Z.Link,{className:r.Z.tab,onClick:e=>i(e),id:"summary",eventKey:"summary",children:"\u05ea\u05e7\u05e6\u05d9\u05e8"})}),a&&(0,x.jsx)(b.Z.Item,{children:(0,x.jsx)(b.Z.Link,{className:r.Z.tab,onClick:e=>i(e),id:"aboutStory",eventKey:"aboutStory",children:"\u05e2\u05dc \u05d4\u05e1\u05e4\u05e8"})}),c&&(0,x.jsx)(b.Z.Item,{children:(0,x.jsx)(b.Z.Link,{className:r.Z.tab,onClick:e=>i(e),id:"prologe",eventKey:"prologe",children:"\u05e4\u05e8\u05d5\u05dc\u05d5\u05d2"})})]}),(0,x.jsxs)("div",{className:" ".concat(r.Z.summary),children:[n.passage," ",n.additional&&(0,x.jsxs)("button",{className:r.Z.showBtn,onClick:function(){"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"===n.additional?l({passage:(0,x.jsxs)("div",{className:r.Z.fullProloge,children:[c," "]}),additional:"\u05d4\u05e8\u05d0\u05d4 \u05e4\u05d7\u05d5\u05ea"}):l({passage:t,additional:"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"})},children:[n.additional," "]})]})]})};var k=s(2441);const p=e=>{let{item:t}=e;const{doc:s,extraData:o}=t,a=o&&o.length>0;return(0,x.jsxs)("div",{className:"container",style:a?{}:{marginBottom:"9%"},children:[(0,x.jsxs)(n.Z,{className:"".concat(r.Z.card," ").concat(r.Z.storyCard),children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(n.Z.Img,{className:"".concat(r.Z.cover),variant:"top",src:s.cover,alt:s.title}),(0,x.jsxs)(n.Z.Body,{children:[(0,x.jsx)(n.Z.Title,{className:"".concat(r.Z.title),children:s.title}),(0,x.jsxs)(n.Z.Subtitle,{className:"".concat(r.Z.author," mb-2 text-muted"),children:[s.author,(0,x.jsx)("br",{})," ",s.price,"\u20aa "]})]})]}),(0,x.jsx)("div",{className:"".concat(r.Z.text),children:(0,x.jsx)(Z,{summary:s.summary,aboutStory:s.aboutStory,prologe:s.prologe})})]}),(0,x.jsx)(k.oU,{comments:s.comments}),a&&(0,x.jsxs)("div",{className:"container ".concat(r.Z.moreBooksContainer),children:[(0,x.jsxs)("h6",{children:["\u05e2\u05d5\u05d3 \u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05e1\u05d3\u05e8\u05ea  ",s.series]}),(0,x.jsx)(u,{direction:"horizontal",gap:3,className:"".concat(r.Z.moreBooks),children:o.map((e=>(0,x.jsx)(_.h,{item:e,route:"/stories/".concat(e._id)},e._id)))})]})]})},v=()=>{const{itemData:e}=(0,a.V4)("book"),t=(0,a.UO)();return(0,x.jsx)(o.Suspense,{fallback:(0,x.jsx)(c.Z,{animation:"border",variant:"secondary"}),children:(0,x.jsx)(a.KP,{resolve:e,children:e=>"books"===t.collection?(0,x.jsx)(j,{item:e}):(0,x.jsx)(p,{item:e})})})}},5068:(e,t,s)=>{s.d(t,{Z:()=>o});const o={showBtn:"book_showBtn__Vo3AM",navTabs:"book_navTabs__wetTM",title:"book_title__1A1ob",fullProloge:"book_fullProloge__RwLwr",summary:"book_summary__9VJLk",text:"book_text__Nl6OE",author:"book_author__-lW93",moreBooksCovers:"book_moreBooksCovers__k29Jw",moreBooks:"book_moreBooks__W16m-",cover:"book_cover__3Lywd",card:"book_card__kh5L+",moreBooksGrid:"book_moreBooksGrid__9kd3k",moreTitle:"book_moreTitle__rHVHO",moreAuthor:"book_moreAuthor__GYC+9",moreBooksContainer:"book_moreBooksContainer__G6up5",tab:"book_tab__VuvVC",storyCard:"book_storyCard__AfLyB"}},3517:(e,t,s)=>{s.d(t,{Z:()=>o});const o={formGroup:"form_formGroup__aK5wG",button:"form_button__nRBFc",deleteBtn:"form_deleteBtn__iaFnd",form:"form_form__jfdk4"}}}]);
//# sourceMappingURL=124.5194ffa7.chunk.js.map