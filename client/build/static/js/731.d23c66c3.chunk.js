"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[731],{9731:(t,e,o)=>{o.r(e),o.d(e,{itemLoader:()=>c,itemsLoader:()=>n,protectRoutesLoader:()=>a});var s=o(8278);function a(t){let{request:e,params:o}=t;const a=function(t){let{request:e}=t;console.log({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0});const o=new URL(e.url).searchParams.get("password");return console.log({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API),o&&o==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PASSWORD?200:401}({request:e});if(console.log(a),200!==a){const t=o.collection;return"books"!==t&&"stories"!==t?(0,s.uX)("/books"):(0,s.uX)(`/${t}`)}return null}async function r(t){let{params:e,request:o}=t;const a=e.collection;if("books"!==a&&"stories"!==a)return(0,s.uX)("/books");let r=`/api/${a}`;const n=new URL(o.url).searchParams;if(n.size>0){r+="?";let t=0;for(const e of n.keys())t>0&&(r+="&"),r+=`${e}=${n.get(e)}`,t++}const i=await fetch(r),c=await i.json();if(!i.ok)throw(0,s.AV)({message:c.message},{status:i.status});return c.docs}function n(t){let{params:e,request:o}=t;return(0,s.PQ)({itemsData:r({params:e,request:o})})}async function i(t){let{params:e}=t;const o=await fetch(`/api/${e.collection}/${e.id}`),a=await o.json();if(!o.ok)throw(0,s.AV)({message:a.message},{status:o.status});return a}function c(t){let{params:e}=t;return(0,s.PQ)({itemData:i({params:e})})}}}]);
//# sourceMappingURL=731.d23c66c3.chunk.js.map