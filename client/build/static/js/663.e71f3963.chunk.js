"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[663],{8693:(e,s,t)=>{t.d(s,{Hw:()=>d,C$:()=>u});var o=t(5475),r=t(6593),a=t(3814),n=t(8628);const l={title:"comments_title__D7jqg",subtitle:"comments_subtitle__vA2B7",cardBody:"comments_cardBody__HQx6d",row:"comments_row__32Rwn",cardText:"comments_cardText__Z9SkA",commentCard:"comments_commentCard__QlmRN",commentsSection:"comments_commentsSection__rM01p",titles:"comments_titles__JFAd6"};var c=t(5284),i=t(5043),m=t(579);const d=e=>{let{comments:s,from:t,secret:r}=e;const a=(0,o.Ls)();if(!s||0===s.length)return(0,m.jsx)("p",{style:{marginTop:"unset"},className:"generalMsg",children:"\u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05e0\u05d5\u05e1\u05e4\u05d5 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"});const c="admin"===t;return(0,m.jsxs)("div",{className:`${l.row} text-center`,children:[a.data&&a.data.error&&(0,m.jsxs)("p",{className:"errorMessage",children:[a.data.error," "]}),a.data&&a.data.success&&(0,m.jsxs)("p",{className:"generalMsg",children:[a.data.success," "]}),(0,m.jsx)("h4",{style:{textAlign:"right"},children:"\u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"}),(0,m.jsx)("div",{className:"row ",children:s.map((e=>(0,m.jsx)(n.A,{className:`col-xl-4 col-lg-5 col-12 col-sm-5 ${l.commentCard}`,children:(0,m.jsxs)(n.A.Body,{className:l.cardBody,children:[(0,m.jsxs)("div",{className:l.titles,children:[(0,m.jsx)(n.A.Title,{className:l.title,children:e.name}),c&&(0,m.jsx)(n.A.Subtitle,{className:`${l.subtitle} mb-2 text-muted`,children:e.story.title})]}),(0,m.jsxs)(n.A.Text,{className:l.cardText,children:[e.text,c&&e.email&&(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsx)("br",{})," ",(0,m.jsx)("span",{children:e.email}),"  "]})]}),c&&(0,m.jsx)("button",{onClick:s=>{return t=e._id,void a.submit({id:t,secret:r},{method:"DELETE"});var t},className:"button",children:"\u05de\u05d7\u05d9\u05e7\u05ea \u05ea\u05d2\u05d5\u05d1\u05d4"})]})},e._id)))})]})};function x(){const e=(0,o.Ls)();return(0,m.jsxs)("form",{onSubmit:s=>function(s){s.preventDefault();const t=new FormData(s.target),o={};t.forEach(((e,s)=>{o[s]=e})),e.submit(o,{method:"POST"})}(s),children:[(0,m.jsxs)(a.A.Group,{className:`mb-3 ${r.A.formGroup}`,children:[(0,m.jsx)(a.A.Label,{children:"\u05e9\u05dd"}),(0,m.jsx)(a.A.Control,{name:"name",type:"text",required:!0})]}),(0,m.jsxs)(a.A.Group,{className:`mb-3 ${r.A.formGroup}`,children:[(0,m.jsx)(a.A.Label,{children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,m.jsx)(a.A.Control,{name:"email",type:"text"})]}),(0,m.jsxs)(a.A.Group,{className:`mb-3 ${r.A.formGroup}`,children:[(0,m.jsx)(a.A.Label,{children:"\u05ea\u05d2\u05d5\u05d1\u05d4"}),(0,m.jsx)(a.A.Control,{name:"text",as:"textarea",required:!0})]}),e.data&&e.data.success&&(0,m.jsx)("p",{className:"successMsg",children:e.data.success}),e.data&&e.data.error&&(0,m.jsx)("p",{className:"formErrorMessage",children:e.data.error}),(0,m.jsx)("button",{className:r.A.button,children:"\u05d4\u05d5\u05e1\u05e4\u05d4"})]})}function u(e){let{comments:s}=e;const[t,o]=(0,i.useState)(!1);return(0,m.jsxs)("div",{className:l.commentsSection,children:[(0,m.jsx)("button",{className:"button",onClick:()=>o(!0),children:"\u05db\u05ea\u05d1\u05d5 \u05ea\u05d2\u05d5\u05d1\u05d4"}),(0,m.jsxs)(c.A,{show:t,onHide:()=>o(!1),children:[(0,m.jsx)(c.A.Header,{closeButton:!0,children:(0,m.jsx)(c.A.Title,{children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d2\u05d5\u05d1\u05d4"})}),(0,m.jsxs)(c.A.Body,{children:[(0,m.jsx)(x,{})," "]})]}),(0,m.jsx)(d,{comments:s,from:"user"})]})}},4487:(e,s,t)=>{t.d(s,{G:()=>u});var o=t(8628);const r="itemGrid_title__wyWHS",a="itemGrid_cover__PAUEq",n="itemGrid_card__DLeQa",l="itemGrid_text__e+zA8",c="itemGrid_author__6bxIf";var i=t(2114),m=t(3216),d=t(5475),x=t(579);const u=e=>{let{item:s,route:t}=e;const u=(0,m.g)();return(0,x.jsx)(d.k2,{style:{textDecoration:"none"},className:t?` ${i.A.moreBooksGrid}`:"",to:`/${u.collection}/${s._id}`,children:(0,x.jsxs)(o.A,{className:`${n}`,children:[(0,x.jsx)(o.A.Img,{className:t?`${i.A.moreBooksCovers}`:`${a}`,variant:"top",src:s.cover}),(0,x.jsxs)(o.A.Body,{children:[(0,x.jsx)(o.A.Title,{className:`${r} ${i.A.moreTitle}`,children:s.title}),(0,x.jsx)(o.A.Subtitle,{className:`${c} ${i.A.moreAuthor} mb-2 text-muted`,children:s.author}),(0,x.jsxs)(o.A.Text,{className:`${l}`,children:[s.price,"\u20aa"]})]})]})})}},2663:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var o=t(5043),r=t(3216),a=t(7417),n=t(2114),l=t(8628),c=t(4600),i=t.n(c),m=t(7852);function d(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Jy,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.ff;const o=[];return Object.entries(e).forEach((e=>{let[r,a]=e;null!=a&&("object"===typeof a?s.forEach((e=>{const s=a[e];if(null!=s){const a=e!==t?`-${e}`:"";o.push(`${r}${a}-${s}`)}})):o.push(`${r}-${a}`))})),o}var x=t(579);const u=o.forwardRef(((e,s)=>{let{as:t="div",bsPrefix:o,className:r,direction:a,gap:n,...l}=e;o=(0,m.oU)(o,"horizontal"===a?"hstack":"vstack");const c=(0,m.gy)(),u=(0,m.Jm)();return(0,x.jsx)(t,{...l,ref:s,className:i()(r,o,...d({gap:n},c,u))})}));u.displayName="Stack";const h=u;var _=t(4487);const j=e=>{let{item:s}=e;const{doc:t,extraData:o}=s,r=o&&o.length>0;return(0,x.jsxs)("div",{className:"container",style:r?{}:{marginBottom:"9%"},children:[(0,x.jsxs)(l.A,{className:`${n.A.card}`,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(l.A.Img,{className:`${n.A.cover}`,variant:"top",src:t.cover,alt:t.title}),(0,x.jsxs)(l.A.Body,{children:[(0,x.jsx)(l.A.Title,{className:`${n.A.title}`,children:t.title}),(0,x.jsxs)(l.A.Subtitle,{className:`${n.A.author} mb-2 text-muted`,children:[t.author,(0,x.jsx)("br",{})," ",t.price,"\u20aa",t.payBtn&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("div",{dangerouslySetInnerHTML:function(e){const s='src="https://i.ibb.co/4P5LKnk/ei-1704014855402-removebg-preview.png"',t=s+' class= "addToCartImg"';return{__html:e.replace(s,t)}}(t.payBtn)})," "]})]})]})]}),(0,x.jsxs)(l.A.Text,{className:`${n.A.text}`,children:[(0,x.jsx)("b",{children:"\u05ea\u05e7\u05e6\u05d9\u05e8"}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:n.A.summary,children:t.summary})]})]}),r&&(0,x.jsxs)("div",{className:`container ${n.A.moreBooksContainer}`,children:[(0,x.jsxs)("h6",{children:["\u05e2\u05d5\u05d3 \u05e1\u05e4\u05e8\u05d9\u05dd \u05de\u05d0\u05ea ",t.author]}),(0,x.jsx)(h,{direction:"horizontal",gap:3,className:`${n.A.moreBooks}`,children:o.map((e=>(0,x.jsx)(_.G,{item:e,route:`/books/${e._id}`},e._id)))})]})]})};var A=t(691);const b=e=>{let s,{summary:t,aboutStory:r,prologe:a}=e;s=(0,o.useMemo)((()=>{if(a)return a.substr(0,390)}),[]);const[l,c]=(0,o.useState)({passage:t,additional:null});function i(e){const o=e.target.id;c("summary"===o?{passage:t,additional:null}:"aboutStory"===o?{passage:r,additional:null}:{passage:s,additional:"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"})}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(A.A,{variant:"tabs",className:`navTabs ${n.A.navTabs}`,defaultActiveKey:"summary",children:[(0,x.jsx)(A.A.Item,{children:(0,x.jsx)(A.A.Link,{className:n.A.tab,onClick:e=>i(e),id:"summary",eventKey:"summary",children:"\u05ea\u05e7\u05e6\u05d9\u05e8"})}),r&&(0,x.jsx)(A.A.Item,{children:(0,x.jsx)(A.A.Link,{className:n.A.tab,onClick:e=>i(e),id:"aboutStory",eventKey:"aboutStory",children:"\u05e2\u05dc \u05d4\u05e1\u05e4\u05e8"})}),a&&(0,x.jsx)(A.A.Item,{children:(0,x.jsx)(A.A.Link,{className:n.A.tab,onClick:e=>i(e),id:"prologe",eventKey:"prologe",children:"\u05e4\u05e8\u05d5\u05dc\u05d5\u05d2"})})]}),(0,x.jsxs)("div",{className:` ${n.A.summary}`,children:[l.passage," ",l.additional&&(0,x.jsxs)("button",{className:n.A.showBtn,onClick:function(){"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"===l.additional?c({passage:(0,x.jsxs)("div",{className:n.A.fullProloge,children:[a," "]}),additional:"\u05d4\u05e8\u05d0\u05d4 \u05e4\u05d7\u05d5\u05ea"}):c({passage:s,additional:"\u05d4\u05e8\u05d0\u05d4 \u05d9\u05d5\u05ea\u05e8"})},children:[l.additional," "]})]})]})};var p=t(8693);const v=e=>{let{item:s}=e;const{doc:t,extraData:o}=s,r=o&&o.length>0;return(0,x.jsxs)("div",{className:"container",style:r?{}:{marginBottom:"9%"},children:[(0,x.jsxs)(l.A,{className:`${n.A.card} ${n.A.storyCard}`,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(l.A.Img,{className:`${n.A.cover}`,variant:"top",src:t.cover,alt:t.title}),(0,x.jsxs)(l.A.Body,{children:[(0,x.jsx)(l.A.Title,{className:`${n.A.title}`,children:t.title}),(0,x.jsxs)(l.A.Subtitle,{className:`${n.A.author} mb-2 text-muted`,children:[t.author,(0,x.jsx)("br",{})," ",t.price,"\u20aa "]})]})]}),(0,x.jsx)("div",{className:`${n.A.text}`,children:(0,x.jsx)(b,{summary:t.summary,aboutStory:t.aboutStory,prologe:t.prologe})})]}),(0,x.jsx)(p.C$,{comments:t.comments}),r&&(0,x.jsxs)("div",{className:`container ${n.A.moreBooksContainer}`,children:[(0,x.jsxs)("h6",{children:["\u05e2\u05d5\u05d3 \u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05e1\u05d3\u05e8\u05ea  ",t.series]}),(0,x.jsx)(h,{direction:"horizontal",gap:3,className:`${n.A.moreBooks}`,children:o.map((e=>(0,x.jsx)(_.G,{item:e,route:`/stories/${e._id}`},e._id)))})]})]})},g=()=>{const{itemData:e}=(0,r.Ew)("book"),s=(0,r.g)();return(0,x.jsx)(o.Suspense,{fallback:(0,x.jsx)(a.A,{animation:"border",variant:"secondary"}),children:(0,x.jsx)(r.jD,{resolve:e,children:e=>"books"===s.collection?(0,x.jsx)(j,{item:e}):(0,x.jsx)(v,{item:e})})})}},2114:(e,s,t)=>{t.d(s,{A:()=>o});const o={showBtn:"book_showBtn__BPVdl",navTabs:"book_navTabs__gD2jI",title:"book_title__v++Fu",fullProloge:"book_fullProloge__a-R6a",summary:"book_summary__Zlg3C",text:"book_text__Tqqoj",author:"book_author__-mWJ5",moreBooksCovers:"book_moreBooksCovers__oMKan",moreBooks:"book_moreBooks__-SMJy",cover:"book_cover__TeSKU",card:"book_card__eXlaA",moreBooksGrid:"book_moreBooksGrid__2+3XR",moreTitle:"book_moreTitle__+cwlx",moreAuthor:"book_moreAuthor__Ax6Cl",moreBooksContainer:"book_moreBooksContainer__kZ5IN",tab:"book_tab__Uh34L",storyCard:"book_storyCard__tm-xI"}},6593:(e,s,t)=>{t.d(s,{A:()=>o});const o={formGroup:"form_formGroup__kmBMA",button:"form_button__BOhvg",deleteBtn:"form_deleteBtn__lwSyp",form:"form_form__IX2UE"}}}]);
//# sourceMappingURL=663.e71f3963.chunk.js.map