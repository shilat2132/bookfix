"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[682],{1682:(t,e,s)=>{s.r(e),s.d(e,{itemLoader:()=>u,itemsLoader:()=>n,protectRoutesLoader:()=>r});var a=s(1387);function r(t){let{request:e,params:s}=t;const r=function(t){let{request:e}=t;const s=new URL(e.url).searchParams.get("password");return s&&"21321247a"===s?200:401}({request:e});if(200!==r){const t=s.collection;return"books"!==t&&"stories"!==t?(0,a.V2)("/books"):(0,a.V2)(`/${t}`)}return null}async function o(t){let{params:e,request:s}=t;const r=e.collection;if("books"!==r&&"stories"!==r)return(0,a.V2)("/books");let o=`/api/${r}`;const n=new URL(s.url).searchParams;if(n.size>0){o+="?";let t=0;for(const e of n.keys())t>0&&(o+="&"),o+=`${e}=${n.get(e)}`,t++}const c=await fetch(o),u=await c.json();if(!c.ok)throw(0,a.Pq)({message:u.message},{status:c.status});return u.docs}function n(t){let{params:e,request:s}=t;return(0,a.v6)({itemsData:o({params:e,request:s})})}async function c(t){let{params:e}=t;const s=await fetch(`/api/${e.collection}/${e.id}`),r=await s.json();if(!s.ok)throw(0,a.Pq)({message:r.message},{status:s.status});return r}function u(t){let{params:e}=t;return(0,a.v6)({itemData:c({params:e})})}}}]);
//# sourceMappingURL=682.1cffdc49.chunk.js.map